# Open Ai

## Documentation

[https://platform.openai.com/](https://platform.openai.com/)

## Setup

In order to set up OpenAi, you'll need to create an [API key](https://platform.openai.com/), then copy and paste that into the NextAi Provider. <br />
`/api/ai/[nextai].ts`
```
import NextAi from 'nextai';

export default NextAi({
    Providers: {
        OpenAi: {
            apiKey: process.env.OPENAI
        }
    }
})

```

## Hooks

```
import React from 'react'
import { useOpenAi } from 'nextai'

export default function Home() {
  const ai = useOpenAi("text-davinci-002");
  const [text, setText] = React.useState<string>("")
  const [res, setRes] = React.useState('')

  const submitHandler = async (e: any) => {
    e.preventDefault()
    const data = await ai.submit(text)
    setRes(data)
  }
  
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main>
        <p>{ai.loading && "Loading"}</p>
        <p>{res}</p>
        <p>{ai.errorMessage}</p>
        <form onSubmit={submitHandler}>
          <input onChange={(e) => setText(e.target.value)} />
          <button type="submit">Submit</button>
        </form>
      </main>
    </>
  )
}

```

### useOpenAi object
the useOpenAi hook returns an object which allows you to access it's state management

**loading**: boolean - Loading state of the hook when fetching data <br /><br />
**error**: boolean - If there is an error, this will be true <br /><br />
**errorMessage**: string - If there is a message, this will store the string <br /><br />
**success**: boolean - if the function is successful, returns a true value <br /><br />
**submit**: function - pass the string propmt as a param, and will return a string message response

## Route

`POST api/ai/openai`

### Request

prompt - string <br />
model - string (optional)

### Response
`status 201`

```
{
    message: string
}
```


